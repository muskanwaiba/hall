<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banquet Hall Listings</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        #banquet-halls {
            padding: 40px 20px;
            text-align: center;
        }

        h2 {
            margin-bottom: 30px;
            color: #333;
        }

        .banquet-cards {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .banquet-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 300px;
            text-align: left;
        }

        .banquet-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .banquet-card h3 {
            padding: 10px 15px 0;
            margin: 0;
            color: #555;
        }

        .banquet-card p {
            padding: 0 15px;
            margin: 5px 0;
            color: #777;
        }
        
        .banquet-card i {
            margin-right: 8px;
            color: #ff6600; /* Accent color for icons */
        }

        .more-info-btn {
            display: block;
            width: calc(100% - 30px);
            padding: 10px;
            margin: 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .more-info-btn:hover {
            background-color: #0056b3;
        }
        .modal {
            display: none;
            position: fixed; 
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.7);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 10px;
            width: 85%; 
            max-width: 1100px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 36px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: #333;
            text-decoration: none;
        }
        .hall-detail-container {
            display: flex;
            gap: 30px;
            padding-top: 15px;
        }

        .hall-detail-left {
            flex: 1; /* Retained for image column */
        }

        #hallDetailImage {
            width: 100%;
            height: auto;
            max-height: 350px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        /* Bar-specific styles were removed here */

        .hall-detail-right {
            flex: 2; /* Now takes up 2/3 of the space */
        }

        .hall-detail-right h2 {
            color: #007bff;
            margin-top: 0;
            font-size: 2.2em;
            text-align: left;
        }

        .hall-detail-right h3 {
            color: #333;
            border-left: 4px solid #ff6600;
            padding-left: 10px;
            margin-top: 25px;
        }

        .hall-detail-right p {
            margin: 10px 0;
            font-size: 1.1em;
        }

        .hall-detail-right ul {
            list-style: none;
            padding-left: 0;
        }

        .hall-detail-right li {
            margin-bottom: 10px;
            color: #555;
        }

        .hall-detail-right li i {
            color: green;
        }

        .book-now-btn {
            padding: 12px 25px;
            background-color: #ff6600; 
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 17px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        
        .book-now-btn:hover {
            background-color: #cc5200;
        }
        @media (max-width: 992px) {
            .hall-detail-container {
                flex-direction: column;
            }
            .modal-content {
                width: 90%; 
                margin: 2.5% auto;
            }
        }
    </style>
</head>
<body>

<section id="banquet-halls" aria-label="Our Banquet Halls">
    <h2>Our Banquet Halls</h2>
    <div class="banquet-cards">
        <div class="banquet-card">
            <img src="https://images.unsplash.com/photo-1591203281954-23fa2ff8ef18?ixlib=rb-4.1.0&auto=format&fit=crop&q=80&w=700" alt="Banquet Hall 1" />
            <h3>Banquet Hall 1</h3>
            <p><i class="fas fa-dollar-sign" aria-hidden="true"></i>Rs.50000 / Day</p>
            <p><i class="fas fa-user" aria-hidden="true"></i>5000 Persons Capacity</p>
            <button class="more-info-btn" data-hall-index="0">More Info</button>
        </div>
        <div class="banquet-card">
            <img src="https://images.unsplash.com/photo-1578298880489-ff269cea9894?ixlib=rb-4.1.0&auto=format&fit=crop&q=80&w=700" alt="Banquet Hall 2" />
            <h3>Banquet Hall 2</h3>
            <p><i class="fas fa-dollar-sign" aria-hidden="true"></i>$10000 / Day</p>
            <p><i class="fas fa-user" aria-hidden="true"></i>500 Persons Capacity</p>
            <button class="more-info-btn" data-hall-index="1">More Info</button>
        </div>
    </div>
</section>

<div id="hallDetailsModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <div class="hall-detail-container">
            <div class="hall-detail-left">
                <img id="hallDetailImage" src="" alt="Hall Detail Image">
                
                </div>

            <div class="hall-detail-right">
                <h2 id="hallDetailTitle">Hall Name</h2>
                <p id="hallDetailPrice">Price: </p>
                <p id="hallDetailCapacity">Capacity: </p>
                
                <hr>

                <h3>More About the Hall</h3>
                <p id="hallDetailedDescription">
                    This is where the comprehensive description of the hall goes. 
                </p>

                <ul>
                    <li><i class="fas fa-music"></i> State-of-the-art sound system</li>
                    <li><i class="fas fa-handshake"></i> Dedicated event coordinator</li>
                    <li><i class="fas fa-car"></i> Ample parking space</li>
                </ul>

                <button class="book-now-btn">Book Now</button>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('hallDetailsModal');
        const closeBtn = document.querySelector('.close-btn');
        const moreInfoBtns = document.querySelectorAll('.more-info-btn');
        const bookNowBtn = document.querySelector('.book-now-btn'); // Get the Book Now button

        const hallsData = [
            // ... (hallsData array remains the same) ...
            {
                name: "Banquet Hall 1 (The Grand Ballroom)",
                price: "Rs.50000 / Day",
                capacity: "5000 Persons Capacity",
                mainImage: "https://images.unsplash.com/photo-1591203281954-23fa2ff8ef18?ixlib=rb-4.1.0&auto=format&fit=crop&q=80&w=700",
                detailedDescription: "The Grand Ballroom is our largest hall, perfect for weddings, corporate galas, and massive conferences. Features include a colossal 40-foot ceiling, integrated stage lighting, a massive LED screen wall, and flexible partitioning. We offer customizable seating arrangements for up to 5000 guests."
            },
            {
                name: "Banquet Hall 2 (The Crystal Room)",
                price: "$10000 / Day",
                capacity: "500 Persons Capacity",
                mainImage: "https://images.unsplash.com/photo-1578298880489-ff269cea9894?ixlib=rb-4.1.0&auto=format&fit=crop&q=80&w=700",
                detailedDescription: "The Crystal Room is designed for medium-sized functions, offering elegance and sophistication. It features soft ambient lighting, wall-to-wall carpeting, and direct access to a private outdoor patio. This hall is perfect for family gatherings, seminars, and rehearsal dinners."
            }
        ];

        // Variable to store the currently selected hall data
        let currentHall = null; 

        function showHallDetails(hallIndex) {
            const hall = hallsData[hallIndex];
            currentHall = hall; // Store the selected hall data
            
            document.getElementById('hallDetailImage').src = hall.mainImage;
            document.getElementById('hallDetailImage').alt = hall.name;
            document.getElementById('hallDetailTitle').textContent = hall.name;
            document.getElementById('hallDetailPrice').textContent = `Price: ${hall.price}`;
            document.getElementById('hallDetailCapacity').textContent = `Capacity: ${hall.capacity}`;
            document.getElementById('hallDetailedDescription').textContent = hall.detailedDescription;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden'; 
        }

        moreInfoBtns.forEach((button) => {
            button.addEventListener('click', () => {
                const index = button.getAttribute('data-hall-index');
                showHallDetails(index); 
            });
        });

        // --- NEW LOGIC FOR BOOK NOW BUTTON ---
        bookNowBtn.addEventListener('click', async () => {
            if (!currentHall) {
                alert("Please select a hall first.");
                return;
            }

            // 1. Prepare data for the server
            const bookingData = {
                hallName: currentHall.name,
                price: currentHall.price,
                capacity: currentHall.capacity,
                // In a real application, you would also collect user details (name, email, date) here.
            };

            try {
                // 2. Send the data to your server endpoint
                const response = await fetch('/api/book-hall', { // REPLACE with your actual server URL
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(bookingData),
                });

                if (response.ok) {
                    // 3. Alert/Notify the user (The server handles database and admin alert)
                    alert(`✅ Booking request for ${currentHall.name} submitted! An admin will contact you shortly.`);
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                } else {
                    // Handle server errors (e.g., 400, 500 status codes)
                    alert('❌ Failed to submit booking request. Please try again.');
                }
            } catch (error) {
                // Handle network errors
                console.error('Error submitting booking:', error);
                alert('❌ Network error. Check your connection or contact support.');
            }
        });
        // --- END NEW LOGIC ---

        closeBtn.onclick = function() {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        window.onclick = function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
    });
</script>
</body>
</html>